var d=Object.defineProperty;var l=Object.getOwnPropertySymbols;var u=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var i=(t,e,r)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c=(t,e)=>{for(var r in e||(e={}))u.call(e,r)&&i(t,r,e[r]);if(l)for(var r of l(e))x.call(e,r)&&i(t,r,e[r]);return t};import{j as jsxRuntime,r as react,R as ReactDOM,a as React}from"./vendor.dfda5131.js";const p=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}};p();var tailwind="";const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,InputContext=react.exports.createContext({}),InputReducer=(state,{type,payload=""})=>{try{const regex=/[^(0-9x\+-\/.)]/g;switch(type){case"insert":return state.match(regex)?payload:state+payload;case"delete":return state.match(regex)?"":state.slice(0,state.length-1);case"clear":return"";case"eval":const res=String(eval(state.replaceAll("x","*")));if(!res)throw new Error("");return String(res);default:return""}}catch(t){return"Invalid Input"}};function InputProvider(t){const e=react.exports.useReducer(InputReducer,"");return jsx(InputContext.Provider,c({value:e},t))}function useInput(){const t=react.exports.useContext(InputContext);if(!t)throw new Error("Not inside an Input provider");return t}function CalcButton(t){const e={primary:"bg-button-primary text-button-text text-3xl border-button-primary-border",secondary:"bg-button-secondary text-accent-text text-2xl border-button-secondary-border",accent:"bg-button-accent text-accent-text text-2xl border-button-accent-border"};return jsx("button",c({className:`border-b-4 text-center  font-bold rounded-lg py-4 ${t.size==="big"?"col-span-2":""} ${e[t.theme||"primary"]}`},t))}function ButtonGrid(){const[t,e]=useInput();return jsxs("div",{className:"grid grid-cols-4 grid-rows-5 p-8 gap-4 bg-secondary rounded-lg",children:[jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"7"}),children:"7"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"8"}),children:"8"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"9"}),children:"9"}),jsx(CalcButton,{onClick:()=>e({type:"delete"}),theme:"secondary",children:"DEL"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"4"}),children:"4"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"5"}),children:"5"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"6"}),children:"6"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"+"}),children:"+"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"1"}),children:"1"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"2"}),children:"2"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"3"}),children:"3"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"-"}),children:"-"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"."}),children:"."}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"0"}),children:"0"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"/"}),children:"/"}),jsx(CalcButton,{onClick:()=>e({type:"insert",payload:"x"}),children:"x"}),jsx(CalcButton,{onClick:()=>e({type:"clear"}),size:"big",theme:"secondary",children:"RESET"}),jsx(CalcButton,{onClick:()=>e({type:"eval"}),size:"big",theme:"accent",children:"="})]})}const ThemeContext=react.exports.createContext({});function ThemeProvider(t){const e=react.exports.useState(parseInt(localStorage.getItem("theme")||"1"));return localStorage.setItem("theme",String(e[0])),jsx(ThemeContext.Provider,c({value:e},t))}function useTheme(){const t=react.exports.useContext(ThemeContext);if(!t)throw new Error("Not inside an Theme provider");return t}function ThemeSwitcher(){const[t,e]=useTheme(),r=["[0.625rem]","1/2","[calc(100%_-_0.625rem)]"];function o(n){const s=Math.ceil((n.clientX-n.currentTarget.offsetLeft)*3/n.currentTarget.clientWidth);e(s)}return jsxs("div",{onClick:o,children:[jsxs("div",{className:"flex justify-between px-1 my-1",children:[jsx("span",{className:"text-xs",children:"1"}),jsx("span",{className:" text-xs",children:"2"}),jsx("span",{className:"text-xs",children:"3"})]}),jsx("div",{className:"bg-secondary relative transition-all rounded-full h-5 w-14",children:jsx("div",{className:`w-5 h-5 absolute -translate-x-1/2 left-${r[t-1]} border-secondary border-4 transition-all rounded-full bg-button-accent`})})]})}function Header(){return jsxs("header",{className:"flex justify-between items-center",children:[jsx("span",{className:" font-semibold text-3xl",children:"calc"}),jsxs("div",{className:"flex items-end gap-7",children:[jsx("p",{className:"text-xs tracking-wide pb-1 font-semibold",children:"THEME"}),jsx(ThemeSwitcher,{})]})]})}function App(){const[t,e]=useInput(),[r,o]=useTheme();return jsx("div",{className:"theme-1 theme-2 theme-3 left-[0.625rem] left-[calc(100%_-_0.625rem)] left-1/2",children:jsx("div",{className:`w-full bg-primary theme-${r}`,children:jsxs("div",{className:"animate-fade min-h-screen max-w-lg mx-auto p-5 text-text",children:[jsx(Header,{}),jsx("div",{className:"styled-scrollbar bg-display my-5 text-5xl h-28 whitespace-nowrap font-semibold overflow-x-auto overflow-y-hidden px-6 py-8 rounded-lg",children:t}),jsx(ButtonGrid,{})]})})})}ReactDOM.render(jsx(ThemeProvider,{children:jsx(InputProvider,{children:jsx(React.StrictMode,{children:jsx(App,{})})})}),document.getElementById("root"));
